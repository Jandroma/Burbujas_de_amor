<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rompeburbuja de Amor</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-color: #f4c4f3;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
        }
        #game-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
        }
        #heart {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: red;
            clip-path: polygon(50% 0%, 100% 35%, 80% 100%, 20% 100%, 0% 35%);
            transform: translate(-50%, -50%);
        }
        #bubble {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: pink;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        #up-button, #shoot-button {
            position: fixed;
            bottom: 50px;
            background-color: #ff69b4;
            border: none;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
        }
        #up-button {
            left: 20px;
        }
        #shoot-button {
            right: 20px;
        }
        #tutorial {
            position: fixed;
            top: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="heart"></div>
        <div id="tutorial">¬°Haz clic en las flechas para subir y disparar!</div>
        <button id="up-button">‚Üë</button>
        <button id="shoot-button">üíò</button>
    </div>

    <script>
        // Variables
        let heart = document.getElementById('heart');
        let upButton = document.getElementById('up-button');
        let shootButton = document.getElementById('shoot-button');
        let tutorial = document.getElementById('tutorial');
        let gravity = 0.5; // Gravedad
        let speed = 0; // Velocidad inicial
        let heartPosY = window.innerHeight - 100; // Posici√≥n inicial del coraz√≥n
        let bubbles = [];
        let level = 1;
        let phrase = "√ÅLEX";
        let progress = 0;

        // Funci√≥n de actualizaci√≥n del juego
        function updateGame() {
            heartPosY += speed;
            speed += gravity;
            if (heartPosY >= window.innerHeight - 100) {
                heartPosY = window.innerHeight - 100; // Limitar la ca√≠da
                speed = 0;
            }
            heart.style.top = `${heartPosY}px`;

            // L√≥gica de burbujas
            if (Math.random() < 0.01) {
                createBubble();
            }

            // Actualizaci√≥n de burbujas
            for (let i = 0; i < bubbles.length; i++) {
                bubbles[i].style.top = `${parseFloat(bubbles[i].style.top) + 2}px`;
                if (parseFloat(bubbles[i].style.top) > window.innerHeight) {
                    bubbles[i].remove();
                    bubbles.splice(i, 1);
                    i--;
                }
            }

            // Verificar colisiones
            for (let i = 0; i < bubbles.length; i++) {
                let bubble = bubbles[i];
                if (checkCollision(heart, bubble)) {
                    progress++;
                    bubble.remove();
                    bubbles.splice(i, 1);
                    i--;
                    if (progress >= phrase.length) {
                        level++;
                        progress = 0;
                        phrase = getNextPhrase(level);
                    }
                }
            }

            // Mostrar el progreso
            tutorial.textContent = `Frase: ${phrase.slice(0, progress)} ${phrase.slice(progress).split("").join(" ")} | Nivel: ${level}`;
        }

        // Funci√≥n para crear burbujas
        function createBubble() {
            let bubble = document.createElement('div');
            bubble.classList.add('bubble');
            bubble.style.left = `${Math.random() * window.innerWidth}px`;
            bubble.style.top = `0px`;
            bubble.textContent = phrase[progress];
            document.getElementById('game-container').appendChild(bubble);
            bubbles.push(bubble);
        }

        // Comprobar colisi√≥n entre coraz√≥n y burbuja
        function checkCollision(heart, bubble) {
            let heartRect = heart.getBoundingClientRect();
            let bubbleRect = bubble.getBoundingClientRect();
            return !(heartRect.right < bubbleRect.left || 
                heartRect.left > bubbleRect.right || 
                heartRect.bottom < bubbleRect.top || 
                heartRect.top > bubbleRect.bottom);
        }

        // Obtener siguiente frase
        function getNextPhrase(level) {
            let phrases = [
                "√ÅLEX", 
                "TE QUIERO, √ÅLEX", 
                "ERES MUY ESPECIAL", 
                "ME ENCANTAS DE VERDAD", 
                "PIENSO EN TI CADA D√çA", 
                "TU SONRISA ILUMINA TODO", 
                "GRACIAS POR EXISTIR", 
                "ERES MI ALEGR√çA DIARIA", 
                "NO PUEDO DEJAR DE AMARTE", 
                "TE AMO, √ÅLEX, PARA SIEMPRE"
            ];
            return phrases[level - 1] || phrases[9];
        }

        // Mover coraz√≥n hacia arriba
        upButton.addEventListener('click', function() {
            speed = -10;
        });

        // Disparar
        shootButton.addEventListener('click', function() {
            createBubble();
        });

        // Iniciar juego
        setInterval(updateGame, 1000 / 60);

    </script>
</body>
</html>
